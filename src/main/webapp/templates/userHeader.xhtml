<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <h:head>
        <h:outputStylesheet name="style.css"/>
        <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
    </h:head>

    <h:body>

        <p:panel header="Panel Użytkownika">
        <f:event type="preRenderView" listener="#{user.checkUserSession()}" />
            <h:form>
            <p:commandButton id="dynaButton" value="Menu" type="button" icon="pi pi-home" />
            <p:menu overlay="true" trigger="dynaButton" my="left top" at="left bottom">
                <p:menuitem value="Dodaj czynność" ajax="false" action="#{user.gotoUserForm()}" icon="pi pi-plus"/>
                <p:menuitem value="Historia czynności" ajax="false" action="#{user.gotoUserHistory()}"  icon="pi pi-list"/>
                <p:menuitem value="Wyloguj" ajax="false" action="#{user.logout()}" icon="pi pi-sign-out"/>
            </p:menu>
                <h:outputText id="userSessionInfo" value ="#{user.showUserSession()}" style="float: right;"/>
            </h:form>
        <ui:insert name="general_content"/>
        </p:panel>

    </h:body>

</ui:composition>